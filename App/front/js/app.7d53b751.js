(function(t){function e(e){for(var n,c,r=e[0],o=e[1],p=e[2],h=0,l=[];h<r.length;h++)c=r[h],s[c]&&l.push(s[c][0]),s[c]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);u&&u(e);while(l.length)l.shift()();return i.push.apply(i,p||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,r=1;r<a.length;r++){var o=a[r];0!==s[o]&&(n=!1)}n&&(i.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},s={app:0},i=[];function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=e,r=r.slice();for(var p=0;p<r.length;p++)e(r[p]);var u=o;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("64a9"),s=a.n(n);s.a},"23b2":function(t,e,a){},"446a":function(t,e,a){"use strict";var n=a("23b2"),s=a.n(n);s.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{attrs:{id:"app"}},[a("Machines")],1)])},i=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"machines"},[a("h1",[t._v("Machines")]),a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.machines,function(t){return a("SingleMachine",{key:t.id,attrs:{machine:t}})}))]),a("button",{staticClass:"btn btn-primary",attrs:{id:"load-machines"},on:{click:t.loadMachines}},[t._v("Load machines")]),a("button",{staticClass:"btn-margin btn btn-primary",attrs:{id:"add-new-machine"},on:{click:t.addNewMachine}},[t._v("Add new machine")])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Id")]),a("th",{attrs:{scope:"col"}},[t._v("TierType")]),a("th",{attrs:{scope:"col"}},[t._v("SubTierType")]),a("th",{attrs:{scope:"col"}},[t._v("StateType")]),a("th",{attrs:{scope:"col"}},[t._v("CpuCount")]),a("th",{attrs:{scope:"col"}},[t._v("LastRan")]),a("th",{attrs:{scope:"col"}},[t._v("Terminated")]),a("th",{attrs:{scope:"col"}},[t._v("GPUS")]),a("th",{attrs:{scope:"col"}})])])}],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"machine-row"},[a("th",{staticClass:"mac-id",attrs:{scope:"row"}},[t._v(t._s(t.machine["id"]))]),a("td",{staticClass:"mac-type"},[t._v(t._s(t.machine["tierType"]))]),a("td",{staticClass:"mac-subtype"},[t._v(t._s(t.machine["subTierType"]))]),a("td",{staticClass:"mac-state"},[t._v(t._s(t.machine["stateType"]))]),a("td",{staticClass:"mac-cpus"},[t._v(t._s(t.machine["cpuCount"]))]),a("td",{staticClass:"small-text mac-last-ran"},[t._v(t._s(t.machine["lastRan"]))]),a("td",{staticClass:"mac-terminated"},[t._v(t._s(t.machine["terminated"]))]),a("td",{staticClass:"mac-gpus"},[t._v(t._s(t.machine["gpuCount"]))]),a("td",{staticClass:"mac-actions"},[a("button",{directives:[{name:"show",rawName:"v-show",value:t.isStopped,expression:"isStopped"}],staticClass:"btn btn-sm state-btn btn-success mac-start",on:{click:t.startMachine}},[t._v("Start")]),a("button",{directives:[{name:"show",rawName:"v-show",value:t.isStarted,expression:"isStarted"}],staticClass:"btn btn-sm state-btn btn-danger mac-stop",on:{click:t.stopMachine}},[t._v("Stop")]),a("button",{directives:[{name:"show",rawName:"v-show",value:t.isStarted,expression:"isStarted"}],staticClass:"state-btn btn btn-sm btn-info mac-restart",on:{click:t.restartMachine}},[t._v("Retart")]),a("button",{staticClass:"state-btn btn btn-sm btn-info mac-attach",attrs:{disabled:!t.supportGpu||!t.isStopped},on:{click:t.attachGpu}},[t._v("AttachGPU")]),a("button",{staticClass:"state-btn btn btn-sm btn-info mac-deattach",attrs:{disabled:!t.supportGpu||!t.isStopped},on:{click:t.deattachGpu}},[t._v("DettachGPU")])])])},p=[],u=a("bc3a"),h=a.n(u),l={props:["machine"],data:function(){return{maxGpus:{"G1-LARGE":1,"G2-LARGE":4}}},computed:{isStarted:function(){return"RUNNING"==this.machine["stateType"]},isStopped:function(){return"STOPPED"==this.machine["stateType"]},isTerminated:function(){return"TERMINATED"==this.machine["stateType"]},supportGpu:function(){return-1!=["G1","G2","G3"].indexOf(this.machine["tierType"])}},methods:{startMachine:function(){var t=this;"STOPPED"==this.machine["stateType"]&&h.a.get("http://localhost:8888/api/machines/start/"+this.machine["id"]).then(function(e){t.machine=e.data})},stopMachine:function(){var t=this;"RUNNING"==this.machine["stateType"]&&h.a.get("http://localhost:8888/api/machines/stop/"+this.machine["id"]).then(function(e){t.machine=e.data})},attachGpu:function(){if("STOPPED"==this.machine["stateType"]){var t=parseInt(prompt("Number of gpus to be attached"));(isNaN(t)||t<0)&&(t=0);var e=this.machine["tierType"]+"-"+this.machine["subTierType"];this.machine["gpuCount"]+t>this.maxGpus[e]&&(t=0),this.machine["gpuCount"]+=t}},deattachGpu:function(){if("STOPPED"==this.machine["stateType"]){var t=parseInt(prompt("Number of gpus to be attached"));(isNaN(t)||t<0||t>this.machine["gpuCount"])&&(t=0),this.machine["gpuCount"]-=t}},restartMachine:function(){var t=this;"RUNNING"==this.machine["stateType"]&&h.a.get("http://localhost:8888/api/machines/restart/"+this.machine["id"]).then(function(e){t.machine=e.data})}}},d=l,m=(a("446a"),a("2877")),f=Object(m["a"])(d,o,p,!1,null,"3794e4e6",null);f.options.__file="SingleMachine.vue";var v=f.exports,b={components:{SingleMachine:v},data:function(){return{machines:[]}},methods:{loadMachines:function(){var t=this;h.a.get("http://localhost:8888/api/machines/get").then(function(e){return t.machines=e.data})},addNewMachine:function(){var t=this,e=["S","T1","T2","G1","G2"],a={S:["MICRO"],T1:["SMALL","MEDIUM"],T2:["MEDIUM","LARGE"],G1:["LARGE"],G2:["LARGE"]},n={"G1-LARGE":["SINGLE",1],"G2-LARGE":["CLUSTER",4]},s={tierType:"",subTierType:"",stateType:"",cpuCount:0,lastRan:"",terminated:"",gpuCount:0,gpuTier:""};s.tierType=e[Math.floor(Math.random()*e.length)];var i=a[s.tierType];s.subTierType=i[Math.floor(Math.random()*i.length)];var c=n[s.tierType+"-"+s.subTierType];c&&(s.gpuTier=c[0],s.gpuCount=Math.floor(Math.random()*(c[1]+1)));var r=new URLSearchParams;r.append("tier",s.tierType),r.append("subTier",s.subTierType),r.append("gpuTier",s.gpuTier),r.append("gpuCount",s.gpuCount),h.a.post("http://localhost:8888/api/machines/create",r).then(function(e){t.loadMachines()}),this.loadMachines()}}},T=b,_=(a("fbf6"),Object(m["a"])(T,c,r,!1,null,"9f519e40",null));_.options.__file="Machines.vue";var y=_.exports,g={name:"app",components:{Machines:y}},M=g,C=(a("034f"),Object(m["a"])(M,s,i,!1,null,null,null));C.options.__file="App.vue";var G=C.exports;a("f9e3");n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(G)}}).$mount("#app")},"624a":function(t,e,a){},"64a9":function(t,e,a){},fbf6:function(t,e,a){"use strict";var n=a("624a"),s=a.n(n);s.a}});
//# sourceMappingURL=app.7d53b751.js.map